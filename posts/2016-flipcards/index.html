<!DOCTYPE html>
<html lang='zh' ><meta charset="utf-8">
<meta name="viewport" content="width=device-width">


<title>CSS3实现翻转卡牌效果 | 博客</title>

<meta name="generator" content="Hugo Eureka 0.8.3-dev" />
<link rel="stylesheet" href="/css/eureka.min.css">
<script defer src="/js/eureka.min.js"></script>

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload"
  href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap"
  as="style" onload="this.onload=null;this.rel='stylesheet'">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/solarized-light.min.css"
   media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js"
   crossorigin></script>

<script defer src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/js/all.min.js"
   integrity="sha256-uNYoXefWRqv&#43;PsIF/OflNmwtKM4lStn9yrz2gVl6ymo="  crossorigin></script>









<meta name="description"
  content="
今天在工作中遇到需求，需要用CSS3写一个卡片翻转效果，这个效果看起来简单，但是还是涉及到一些不常用的CSS3中的3D转换的属性以及实现该效果的思路，所以这里总结一下。
">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
      "@type": "ListItem",
      "position": 1 ,
      "name":"文章",
      "item":"/posts/"},{
      "@type": "ListItem",
      "position": 2 ,
      "name":"CSS3实现翻转卡牌效果",
      "item":"/posts/2016-flipcards/"}]
}
</script>



<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "/posts/2016-flipcards/"
    },
    "headline": "CSS3实现翻转卡牌效果 | 博客","datePublished": "2016-08-17T23:35:52+00:00",
    "dateModified": "2016-08-17T23:35:52+00:00",
    "wordCount":  353 ,
    "publisher": {
        "@type": "Person",
        "name": "博客",
        },
    "description": "\u003cblockquote\u003e\n\u003cp\u003e今天在工作中遇到需求，需要用CSS3写一个卡片翻转效果，这个效果看起来简单，但是还是涉及到一些不常用的CSS3中的3D转换的属性以及实现该效果的思路，所以这里总结一下。\u003c\/p\u003e\n\u003c\/blockquote\u003e"
}
</script><meta property="og:title" content="CSS3实现翻转卡牌效果 | 博客" />
<meta property="og:type" content="article" />



<meta property="og:url" content="/posts/2016-flipcards/" />




<meta property="og:description" content="
今天在工作中遇到需求，需要用CSS3写一个卡片翻转效果，这个效果看起来简单，但是还是涉及到一些不常用的CSS3中的3D转换的属性以及实现该效果的思路，所以这里总结一下。
" />




<meta property="og:locale" content="zh" />




<meta property="og:site_name" content="博客" />






<meta property="article:published_time" content="2016-08-17T23:35:52&#43;00:00" />


<meta property="article:modified_time" content="2016-08-17T23:35:52&#43;00:00" />



<meta property="article:section" content="posts" />


<meta property="article:tag" content="CSS" />





<meta property="og:see_also" content="/posts/2016-verticalalign-1/" />

<meta property="og:see_also" content="/posts/2016-textalgin/" />

<meta property="og:see_also" content="/posts/2016-filerem/" />



<body class="flex flex-col min-h-screen">
  <header class="fixed flex items-center w-full min-h-16 pl-scrollbar z-50 bg-secondary-bg shadow-sm">
    <div class="w-full max-w-screen-xl mx-auto"><script>
    let storageColorScheme = localStorage.getItem("lightDarkMode")
    if (((storageColorScheme == 'Auto' || storageColorScheme == null) && window.matchMedia("(prefers-color-scheme: dark)").matches) || storageColorScheme == "Dark") {
        document.getElementsByTagName('html')[0].classList.add('dark')
    }
</script>
<nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0">
    <a href="/" class="mr-6 text-primary-text text-xl font-bold">博客</a>
    <button id="navbar-btn" class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
        <i class="fas fa-bars"></i>
    </button>

    <div id="target"
        class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20">
        <div class="md:flex md:h-16 text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0">
        </div>

        <div class="flex">
            <div class="relative pt-4 md:pt-0">
                <div class="cursor-pointer hover:text-eureka" id="lightDarkMode">
                    <i class="fas fa-adjust"></i>
                </div>
                <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id="is-open">
                </div>
                <div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40"
                    id='lightDarkOptions'>
                    <span class="px-4 py-1 hover:text-eureka" name="Light">浅色</span>
                    <span class="px-4 py-1 hover:text-eureka" name="Dark">深色</span>
                    <span class="px-4 py-1 hover:text-eureka" name="Auto">自动</span>
                </div>
            </div>
        </div>
    </div>

    <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id="is-open-mobile">
    </div>

</nav>
<script>
    
    let element = document.getElementById('lightDarkMode')
    if (storageColorScheme == null || storageColorScheme == 'Auto') {
        document.addEventListener('DOMContentLoaded', () => {
            window.matchMedia("(prefers-color-scheme: dark)").addEventListener('change', switchDarkMode)
        })
    } else if (storageColorScheme == "Light") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'sun')
        element.firstElementChild.classList.add('fa-sun')
    } else if (storageColorScheme == "Dark") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'moon')
        element.firstElementChild.classList.add('fa-moon')
    }

    document.addEventListener('DOMContentLoaded', () => {
        getcolorscheme();
        switchBurger();
    });
</script>
</div>
  </header>
  <main class="flex-grow pt-16">
    <div class="pl-scrollbar">
      <div class="w-full max-w-screen-xl lg:px-4 xl:px-8 mx-auto">


<div class="grid grid-cols-2 lg:grid-cols-8 gap-4 lg:pt-12">
    <div
        class="col-span-2 lg:col-start-2 lg:col-span-6 bg-secondary-bg rounded px-6 py-8">
        <h1 class="font-bold text-3xl text-primary-text">CSS3实现翻转卡牌效果</h1>
        <div class="flex flex-wrap flex-row items-center mt-2 text-tertiary-text">
    <div class="mr-6 my-2">
        <i class="fas fa-calendar mr-1"></i>
        <span>2016-08-17</span>
    </div>
    <div class="mr-6 my-2">
        <i class="fas fa-clock mr-1"></i>
        <span>2分钟阅读时长</span>
    </div>
    
    
    <div class="mr-6 my-2">
        <i class="fas fa-folder mr-1"></i>
        
        <a href="/categories/css/" class="hover:text-eureka">CSS</a>
        
    </div>
    

    
</div>
        
        
        

        <div class="content">
            <blockquote>
<p>今天在工作中遇到需求，需要用CSS3写一个卡片翻转效果，这个效果看起来简单，但是还是涉及到一些不常用的CSS3中的3D转换的属性以及实现该效果的思路，所以这里总结一下。</p>
</blockquote>
<p>项目地址：<a href="https://github.com/MrZhang123/Practice/tree/master/FlipCards">https://github.com/MrZhang123/Practice/tree/master/FlipCards</a></p>
<h2 id="需要的css3属性">需要的CSS3属性</h2>
<h3 id="perspective">perspective</h3>
<p><strong>目前浏览器都不支持<code>perspective</code>属性</strong></p>
<p>在chrome和Safari中需要使用<code>-webkit-perspective</code>，而在Firefox中需要使用<code>-moz-perspective</code>来定义。</p>
<h4 id="定义和用法">定义和用法</h4>
<p><code>perspective</code>属性定义3D元素距视图的距离，以像素计。该属性允许改变查看3D元素的视图。当为元素定义</p>
<p><code>perspective</code>属时，其子元素会获得透视效果，而不是元素本身。换句话说，设置这个元素是为了给该元素的子元素用。</p>
<h4 id="值">值</h4>
<p>number：元素距离视图的距离，以像素计</p>
<p>none：<strong>默认值</strong>，与0相同。不设置透视</p>
<h3 id="transform-style">transform-style</h3>
<p>Firefox支持<code>transfrom-style</code>属性。</p>
<p>Chrome、Safari和Opera支持代替的<code>-webkit-transform-style</code>属性。</p>
<h4 id="定义和用法-1">定义和用法</h4>
<p><code>transform-style</code>属性固定如何在3D空间中呈现被嵌套的元素。一般给父元素设置让其所有子元素跟着父元素一起位置移动，一般会设置。</p>
<h4 id="值-1">值</h4>
<p>flat：子元素将不保留其3D位置（默认值）</p>
<p>perserve-3d：子元素将保留其3D位置</p>
<h3 id="transition">transition</h3>
<p>IE10+、Firefox、Opera、Chrome均支持<code>transition</code>属性。Safari支持替代的<code>-webkit-transition</code>属性。但是IE9-不支持该属性。</p>
<h4 id="定义和用法-2">定义和用法</h4>
<p><code>transition</code>属性是一个简写属性，用于设置四个过渡属性：</p>
<ul>
<li>transiton-property：规定设置过渡效果的CSS属性的名称</li>
<li>transiton-duration：规定完成过渡效果需要多少秒或毫秒</li>
<li>transiton-timing-funciton：规定速度效果的速度曲线</li>
<li>transition-delay：规定过渡效果何时开始</li>
</ul>
<p><strong><code>transiton-duration</code>必须设置，否则时长为0 ，不会有过渡效果</strong></p>
<h3 id="backface-visibility">backface-visibility</h3>
<p>只有IE10+和Firefox支持<code>backface-visibility</code>，Opera15+、Safari和Chrome支持替代的<code>-webkit-backface-visibility</code></p>
<h4 id="定义和用法-3">定义和用法</h4>
<p><code>backface-visibility</code>属性定义当前元素不面向屏幕时是否可见，如果元素在旋转后不希望看到背面，则可以使用。</p>
<p>visible：背面是可见的（默认值）</p>
<p>hidden：背面是不可见的</p>
<h2 id="实现的思路">实现的思路</h2>
<p>要实现类似的翻牌效果，首先我们需要有一张可以翻的牌，这张牌由两个元素重叠组成，位于上层正面我们看到，而位于下层的背面我们看不到并且本身是绕Y轴旋转过的，这样，当鼠标移动上去后，同时让正面和背面执行旋转就可以实现翻牌效果。</p>
<h2 id="实现">实现</h2>
<p>基本结构代码如下：</p>
<pre><code class="language-html">&lt;div id=&quot;content&quot;&gt;
    &lt;ul&gt;
        &lt;li&gt;
            &lt;a href=&quot;#&quot; &gt;
                &lt;div&gt;
                    &lt;h3&gt;测试正面1&lt;/h3&gt;
                    &lt;p&gt;文字文字文字文字文字文字文字文字文字文字文字&lt;/p&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;h3&gt;测试背面1&lt;/h3&gt;
                    &lt;p&gt;文字文字文字文字文字文字文字文字文字文字文字&lt;/p&gt;
                &lt;/div&gt;
            &lt;/a&gt;
        &lt;/li&gt;        
    &lt;/ul&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-css">ul,li {
    margin:0;
    padding:0;
    list-style:none;
}
#content ul li{
    width: 225px;
    height: 180px;
}
#content ul li a{
    position: relative;
    display: block;
    width: 100%;
    height: 100%;
}
#content ul li a &gt; div{
    position: absolute;
    left: 0;
    height: 0;
    width: 100%;
    height: 100%;
    color: #fff;
}
#content ul li a div:first-child{
    background-color: rgb(255, 64, 129);
    z-index:2;
}
#content ul li a div:last-child{
    background:rgb(0, 188, 212);
    z-index:1;
}
#content ul li a div h3{
    margin: 0 auto 15px;
    padding: 15px 0;
    width: 200px;
    height: 16px;
    line-height: 16px;
    font-size: 14px;
    text-align: center;
    border-bottom: 1px #fff dashed;
}

#content ul li a div p{
    padding: 0 10px;
    font-size: 12px;
    text-indent: 2em;
    line-height: 18px;
}
</code></pre>
<p>这样就让两个div叠在一起了，但是如果要进行翻转的话，首先是需要将背面本身就翻过去，当鼠标放上去之后翻转过来，让我们看到，所以我们需要给背面添加翻转180°的属性，鼠标放上去之后让它翻转到0°，同时为保证每个浏览器渲染统一，给正面加一个翻转0°，鼠标移动上去之后翻转-180°，并且是一个动画，所以要添加过渡。所以给正面背面添加CSS如下：</p>
<pre><code class="language-css">#content ul li a &gt; div{
    -webkit-transition:.8s ease-in-out;
    -moz-transition:.8s ease-in-out;
}
#content ul li a div:first-child{
    -webkit-transform:rotateY(0);
    -moz-transform:rotateY(0);
}
#content ul li a div:last-child{
    -webkit-transform:rotateY(180deg);
    -moz-transform:rotateY(180deg);
}
#content ul li a:hover div:first-child{
    -webkit-transform:rotateY(-180deg);
    -moz-transform:rotateY(-180deg);
}
#content ul li a:hover div:last-child{
    -webkit-transform:rotateY(0);
    -moz-transform:rotateY(0);
}
</code></pre>
<p>在添加这些CSS3属性后，可以实现翻转，但是发现只看到正面，没有看到背面，这又是为什么呢，前面提到有一个属性<code>backface-visibility</code>，这个属性用于控制在翻转后，元素的背面是否可见，默认是可见的，所以就会挡着背面那个元素，我们需要手动设置元素翻转后背面不可见，所以需要设置：</p>
<pre><code class="language-css">#content ul li a &gt; div{
     -webkit-backface-visibility: hidden;
     -moz-backface-visibility: hidden;
}
</code></pre>
<p>这样设置之后，由于正面的元素在翻转后背面不可见，我们就可以看到背面的元素了。</p>
<p>但是，仔细观察会发现这个翻转似乎并不是那么立体，似乎在两条平行线之间实现了翻转，所以我们需要设置一个观察点距离视图的距离，这时候就需要给父元素添加<code>perspective</code>属性，这个属性的值一般为800px ~ 1000px，这个范围内的值会看上去合理。所以给父元素添加：</p>
<pre><code class="language-css">#content ul li a{
    -webkit-perspective: 800px;
    -moz-perspective: 800px;
}
</code></pre>
<p>至此，就实现了一个翻转卡牌的效果，但是这里需要解决一个问题，因为<code>perspective</code>属性不被IE支持（Microsoft Edge支持），所以需要进行降级，我的做法是直接显示隐藏。那么如何识别IE9+浏览器呢？在<a href="http://stackoverflow.com/">stackoverflow</a>中我找到了答案：</p>
<h2 id="附css中识别各类ie的方法">附：CSS中识别各类IE的方法</h2>
<h2 id="ie6">IE6</h2>
<pre><code class="language-css">* html .ie6{
    property:value;
}
</code></pre>
<p>or</p>
<pre><code class="language-css">html .ie6{
    _property:value;
}
</code></pre>
<h2 id="ie7">IE7</h2>
<pre><code class="language-css">*+html .ie7{
    property:value;
}
</code></pre>
<p>or</p>
<pre><code class="language-css">*:first-child+html ie7{
    property:value;
}
</code></pre>
<h2 id="ie6-and-ie7">IE6 and IE7</h2>
<pre><code class="language-css">@media screen\9{
    ie67{property:value;}
}
</code></pre>
<p>or</p>
<pre><code class="language-css">.ie67{ *property:value;}
</code></pre>
<p>or</p>
<pre><code class="language-css">.ie67{ #property:value;}
</code></pre>
<h2 id="ie67-and-8">IE6,7 and 8</h2>
<pre><code class="language-css">@media \0screen\,screen\9{
    ie678{property:value;}
}
</code></pre>
<h2 id="ie8">IE8</h2>
<pre><code class="language-css">html&gt;/**/body .ie8{property:value;}
</code></pre>
<p>or</p>
<pre><code class="language-css">@media \0screen{
    ie8{property:value;}
}
</code></pre>
<h2 id="只在ie8标准模式">只在IE8标准模式</h2>
<pre><code class="language-css">.ie8{property/*\**/:value\9;}
</code></pre>
<h2 id="ie89-and-10">IE8,9 and 10</h2>
<pre><code class="language-css">@media screen\0{
    ie8910{property:value;}
}
</code></pre>
<h2 id="ie9-only">IE9 only</h2>
<pre><code class="language-css">@media screen and (min-width:0\0) and (min-resolution: .001dpcm){
    /*IE9 CSS*/
    .ie9{property:value;}
}
</code></pre>
<h2 id="ie9">IE9+</h2>
<pre><code class="language-css">@media screen and (min-width:0\0) and (min-resolution: +72dpi){
    /*IE9+ CSS*/
    .ie9up{property:value;}
}
</code></pre>
<h2 id="ie9-and-10">IE9 and 10</h2>
<pre><code class="language-css">@media screen and (min-width:0){
    .ie910{property:value;}
}
</code></pre>
<h2 id="ie10-only">IE10 only</h2>
<pre><code class="language-css">_:-ms-lang(x), ie10 {property:value;}
</code></pre>
<h2 id="ie10">IE10+</h2>
<pre><code class="language-css">_:-ms-lang(x), ie10up{property:value;}
</code></pre>
<p>or</p>
<pre><code class="language-css">@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){
    .ie10up{property:value;}
}
</code></pre>
<h2 id="ie11">IE11+</h2>
<pre><code class="language-css">_:-ms-fullscreen, :root .ie11up{property:value;}
</code></pre>
        </div>
        
        <div class="my-4">
    
    <a href="/tags/css/" class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#CSS</a>
    
</div>
        
        
        


        
        
        
        
<div class="flex flex-col md:flex-row md:justify-between -mx-2 mt-4 px-2 pt-4 border-t">
    <div>
        
        <span class="block font-bold">上一页</span>
        <a href="/posts/2016-gulpuse/" class="block">基于Gulp的前端自动化工程搭建</a>
        
    </div>
    <div class="md:text-right mt-4 md:mt-0">
        
        <span class="block font-bold">下一页</span>
        <a href="/posts/2016-jsstring/" class="block">Javascript中字符串方法总结</a>
        
    </div>
</div>

        



    </div>
    

    
    
    <div
        class="col-span-2 lg:col-start-2 lg:col-span-6 bg-secondary-bg rounded p-6">
        <h2 class="text-lg font-semibold mb-4">相关</h2>
        <div class="content">
            
            <a href="/posts/2016-verticalalign-1/">慕课网---深入理解vertical-align总结</a>
            <br />
            
            <a href="/posts/2016-textalgin/">text-algin:justify实现文本两端对齐</a>
            <br />
            
            <a href="/posts/2016-filerem/">利用CSS3新单位rem实现响应</a>
            <br />
            
        </div>
    </div>
    
</div>
<script>
    document.addEventListener('DOMContentLoaded', ()=>{
        hljs.initHighlightingOnLoad();
    })
</script>

      </div>
    </div>
    
  </main>
  <footer class="pl-scrollbar">
    <div class="w-full max-w-screen-xl mx-auto"><div class="text-center p-6 pin-b">
    <p class="text-sm text-tertiary-text">&copy; 2021 <a href="https://www.wangchucheng.com/">C. Wang</a> and <a href="https://www.ruiqima.com/">R. Ma</a>
 &middot;  Powered by the <a href="https://github.com/wangchucheng/hugo-eureka" class="hover:text-eureka">Eureka</a> theme for <a href="https://gohugo.io" class="hover:text-eureka">Hugo</a></p>
</div></div>
  </footer>
</body>

</html>